<div class="cdk-multi-wrap" ng-mouseleave="showDrop=false">
    <input type="text" readonly="readonly" data-ng-click="ToggleDropdown()" value="{{displayText}}"/>
    <span class="select-icon" data-ng-click="ToggleDropdown()">▼</span>
    <div class="select-count">{{all ? data.length : data.findMatch('selected',true).length}}</div>
    <div class="cdk-multi-drop" ng-class="showDrop?'expand':'collapse'">
        <input ng-show="search" class="search-input" ng-model="searchString" type="text" placeholder="Search">
        <input type="button" class="select-btn cdk-btn-icon cdk-btn" ng-click="ToggleAll('checkall')"
               ng-disabled="checkAll"
               value="✔" title="Check All"/>
        <input type="button" class="unselect-btn cdk-btn-icon cdk-btn" ng-click="ToggleAll('uncheckall')"
               ng-disabled="uncheckAll"
               value="X" title="Uncheck All"/>
        <div class="values">
            <ul>
                <li title="{{val[tip]}}" ng-class="val.selected?'check':'uncheck'" ng-show="val.shown"
                    ng-repeat="val in data track by $index" value="val[prop]"
                    ng-click="CheckIt($index)">
                    {{val[text]}}
                </li>
            </ul>
        </div>
    </div>
</div>
